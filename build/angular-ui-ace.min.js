/**
 * angular-ui-ace - This directive allows you to add ACE editor elements.
 * @version v0.0.3 - 2013-05-10
 * @link http://angular-ui.github.com
 * @license MIT
 */
angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw Error("ui-ace need ace to work... (o rly?)");return{restrict:"EA",require:"?ngModel",link:function(n,a,r,i){var t,u,o,s,c;t=e.ace||{},u=angular.extend({},t,n.$eval(r.uiAce)),a.wrap('<div class="ace_editor_wrapper" />'),o=window.ace.edit(a[0]),s=o.getSession(),c=function(e){return function(a){var t=s.getValue();t===n.$eval(r.value)||n.$$phase||(angular.isDefined(i)&&n.$apply(function(){i.$setViewValue(t)}),angular.isDefined(e)&&n.$apply(function(){if(!angular.isFunction(e))throw Error("ui-ace use a function as callback.");e(a,o)}))}},angular.isDefined(u.showGutter)&&o.renderer.setShowGutter(u.showGutter),angular.isDefined(u.useWrapMode)&&s.setUseWrapMode(u.useWrapMode),angular.isString(u.theme)&&o.setTheme("ace/theme/"+u.theme),angular.isString(u.mode)&&s.setMode("ace/mode/"+u.mode),angular.isDefined(i)&&(i.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw Error("ui-ace cannot use an object or an array as a model");return e}),i.$render=function(){s.setValue(i.$viewValue)}),s.on("change",c(u.onChange)),r.scopeInstance&&""!==r.scopeInstance&&(n[r.scopeInstance]=o)}}}]);